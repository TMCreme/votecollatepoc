
FROM docker.n8n.io/n8nio/n8n

ENV DB_TYPE=postgresdb 
ENV DB_POSTGRESDB_DATABASE=postgres
ENV DB_POSTGRESDB_HOST=${POSTGRES_HOST}
ENV DB_POSTGRESDB_PORT=${POSTGRES_PORT}
ENV DB_POSTGRESDB_USER=postgres
ENV DB_POSTGRESDB_SCHEMA=${N8NSCHEMA}
ENV DB_POSTGRESDB_PASSWORD=${POSTGRES_PASSWORD}
ENV N8N_PROXY_HOPS=1
ENV N8N_EDITOR_BASE_URL=https://electionpocn8n.fly.dev
ENV N8N_ENCRYPTION_KEY=${N8NENCRYPTION_KEY}
ENV N8N_HOST=electionpocn8n.fly.dev
ENV N8N_PROTOCOL=https

EXPOSE 5678

ENTRYPOINT ["tini", "--", "/docker-entrypoint.sh"]
